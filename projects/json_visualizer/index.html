<!DOCTYPE html>
<html>
  <head>
    <title>JSON Visualizer</title>
    <style>
      * {
        box-sizing: border-box;
      }

      body {
        font-family: sans-serif;
        margin: 0;
        padding: 0;
      }

      .container {
        display: flex;
        flex-direction: column;
        height: 100vh;
      }

      .header {
        background-color: #333;
        color: white;
        padding: 16px;
        text-align: center;
      }

      .main {
        justify-content: center;
        display: flex;
        flex: 1;
        overflow-y: auto;
        padding: 16px;
      }

      .tree {

        margin: 0 16px;
        padding: 16px;
        display: flex;
        flex-direction: column;
        font-size: 16px;
        line-height: 1.5;
        background-color: #f5f5f5;
        border-radius: 10px;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
        height:fit-content;
 
      }

      .pair {
  display: flex;
  flex-direction: row;
  align-items: center;
  margin-bottom: 8px;
}

.key {
  color: #0074d9;
  font-weight: bold;
  margin-right: 8px;
  flex: 0.5;
}

      .string {
        color: #2ecc40;
      }

      .number {
        color: #f39c12;
      }

      .boolean {
        color: #0074d9;
      }

      .null {
        color: #b10dc9;
      }

      .error {
        color: red;
      }

      /* Add some styles for the expand/collapse arrows */
      .pair > .key:before {
        content: "▶";
        margin-right: 4px;
        font-size: 12px;
        cursor: pointer;
      }

      .pair.collapsed > .key:before {
        content: "▷";
      }

      .pair > .key:after {
        content: ":";
        margin-right: 4px;
      }

      /* Add some styles for the leaf nodes */
      .leaf {
        margin-left: 16px;
        padding-left: 8px;
        border-left: 2px solid #ccc;
      }

      .leaf.string {
        color: #2ecc40;
        font-style: italic;
      }

      .leaf.number {
        color: #f39c12;
        font-style: italic;
      }

      .leaf.boolean {
        color: #0074d9;
        font-style: italic;
      }

      .leaf.null {
        color: #b10dc9;
        font-style: italic;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>JSON Visualizer</h1>
      </div>
      <div class="main">
        <div class="tree"></div>
      </div>
    </div>

    <script>
      const json = {
  "id": "0001",
  "type": "donut",
  "name": "Cake",
  "ppu": 0.55,
  "batters": {
    "batter": [
      { "id": "1001", "type": "Regular" },
      { "id": "1002", "type": "Chocolate" },
      { "id": "1003", "type": "Blueberry" },
      { "id": "1004", "type": "Devil's Food" }
    ]
  },
  "topping": [
    { "id": "5001", "type": "None" },
    { "id": "5002", "type": "Glazed" },
    { "id": "5005", "type": "Sugar" },
    { "id": "5007", "type": "Powdered Sugar" },
    { "id": "5006", "type": "Chocolate with Sprinkles" },
    { "id": "5003", "type": "Chocolate" },
    { "id": "5004", "type": "Maple" }
  ]
};

const tree = document.querySelector('.tree');

function createTree(data, element) {
  if (typeof data === 'object' && data !== null) {
    const box = document.createElement('div');
    box.classList.add('tree');
    element.appendChild(box);

    Object.keys(data).forEach((key) => {
      const value = data[key];
      const pair = document.createElement('div');
      pair.classList.add('pair');
      box.appendChild(pair);

      const label = document.createElement('div');
      label.classList.add('key');
      label.textContent = key;
      pair.appendChild(label);

      label.addEventListener('click', () => {
        pair.classList.toggle('collapsed');
        
      });

      createTree(value, pair);

      const spacer = document.createElement('div');
      spacer.classList.add('spacer');
      pair.appendChild(spacer);
    });
  } else {
    const leaf = document.createElement('div');
    leaf.classList.add(typeof data);
    if (typeof data == "string") data = `"${data}"`;
    leaf.textContent = data;
    element.appendChild(leaf);
  }
}

try {
  const parsedJson = JSON.parse(JSON.stringify(json));
  createTree(parsedJson, tree);
} catch (e) {
  tree.innerHTML = '<div class="tree error">Error parsing JSON data.</div>';
}

    </script>
  </body>
</html>